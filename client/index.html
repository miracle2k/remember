<!DOCTYPE html>
<html>
  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Remember</title>
    <link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <script type="text/x-handlebars" data-template-name="things">
      <div id='remember'>
        <div class='title'>
          <h1>Remember</h1>
        </div>

        <div class='content'>
          <div id='create-thing'>
            {{edit-thing id='new-thing' placeholder='What to remember?' rows='1' value=newThing submit-edit="createThing" multilineByDefault=false key-press="newThingKeyPress" }}            
            <span class='ui-tooltip-top' {{bind-attr class="tooltipVisible:visible"}}>Press Enter to create this thing, Shift+Enter for new line</span>
          </div>

          <div id='things'>
            <ul>
              <!-- no idea why i need to access model.content explicitly. It should work without either of those, or wich just one of either of them.-->
              {{#each model.arrangedContent }}
                <div class="group">
                  <div class="group-text">{{ formatDate date 'YYYY-MM-DD' }}</div>
                  <ul>
                    {{#each items itemController="thing"}}
                    <li class='thing' {{bind-attr class="isEditing:editing"}}>
                      <div class="thing">
                        {{#if isEditing}}
                        <div class="edit">
                          {{ edit-thing rows="1" class="thing-input" value=bufferedText focus-out="doneEditing" submit-edit="doneEditing" escape-press="cancelEditing" }} 
                        </div>
                        {{else}}
                        <div class="display">
                          <div class="thing-text" {{action "editTodo" on="doubleClick"}}>{{ text_formatted }}</div>
                          <span class="thing-destroy" {{action "removeThing" on="click"}}></span>
                        </div>
                        {{/if}}
                      </div>
                    </li>
                    {{/each}}
                  </ul>
                </div>
              {{/each}}
            </ul>
          </div>
        </div>
      </div>

      <div id='credits'>
        Created by
        <br />
        <a href='http://elsdoerfer.name/'>Michael Elsd√∂rfer</a>
        <br />
        Based on <em>todos.js</em> by
        <br />
        <a href='http://jgn.me/'>J&eacute;r&ocirc;me Gravel-Niquet</a>
      </div>
    </script>

    <script language="javascript" src="javascripts/jquery-1.10.2.js" type="text/javascript"></script>
    <script language="javascript" src="javascripts/jquery.elastic.js" type="text/javascript"></script>
    <script language="javascript" src="javascripts/underscore.js" type="text/javascript"></script>
    <script language="javascript" src="javascripts/showdown.js" type="text/javascript"></script>
    <script language="javascript" src="javascripts/moment.js" type="text/javascript"></script>

    <script src="javascripts/handlebars-v1.1.2.js"></script>
    <script src="javascripts/ember-1.2.0.js"></script>
    <script src="javascripts/ember-data.js"></script>
    
    <script language="javascript" src="javascripts/remember.js" type="text/javascript"></script>

  </body>
</html>